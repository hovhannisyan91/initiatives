<html>
    <head>
        <meta charset="utf-8">
        <title>DS 223 Marketing Analytics</title>
        <meta name="author" content="Karen Hovhannisyan">
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="http://cdn.jsdelivr.net/reveal.js/3.0.0/css/reveal.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@3.6.0/css/theme/simple.css" id="theme">

        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai-sublime.css">
        
        <style>
            p{
                text-align: justify;
            }

            h2{
                /* text-align: left; */
                font-weight: bold;
            }
            #left {
                margin: 10px 0 15px 20px;
                text-align: center;
                float: left;
                z-index:-10;
                width:48%;
                font-size: 0.85em;
                line-height: 1.5; 
            }

            #right {
                margin: 10px 0 15px 0;
                float: right;
                text-align: center;
                z-index:-10;
                width:48%;
                font-size: 0.85em;
                line-height: 1.5; 
            }

            #box-container {
                display: flex;
                text-align: center;
                }

                #box-1 {
                /* background-color: dodgerblue; */
                width: 20%;
                text-align: center;
                }

                #box-2 {
                /* background-color: orangered; */
                width: 38%;
                text-align: center;
                }

                #box-3 {
                /* background-color: green; */
                width: 38%;
                text-align: center;
                }

        </style>
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>
    <div class="reveal">

      <!-- Any section ment inside of this container is displayed as a slide -->
     <div class="slides">


<!-- Slide 1 -->
<section>
<h2>Marketing Analytics 1</h2>
<br><br>
<h4>Karen Hovhannisyan, AUA</h4>

<h4>Dashboard Development Using</h3>
</section>

<!-- Slide 2 -->
<section> 
    <h2>Objective</h2>

<!-- - Why should you know?
- Intro to HTML document layout
- Intro to HTML document components
- Intro to CSS -->
<ul>
    <li>Intro to HTML and CSSS</li>
    <li>Intro to Dash</li>
    <li>Dash HTML Components: html</li>
    <li>Dash Core Components: dcc</li>
    <li>Reactive Programming with Dash</li>
    <li>Multipage Dash Applications</li>
    <li>Deployment</li>
</ul>
</section>
    
 <!-- Slide  -->

<!-- Slide 3 -->
<section>
    <h2> Expected outcome</h2>
    
    <p>By the end of the session, you should be able to:</p>

    <ul>
        <li>understand core concepts in HTML and CSS</li>
        <li>feel comfortable with HTML and CSS</li>
        <li>finalize the layout of the group project</li>
        <li>try some element of reactive programming</li>
        <li>design your own callbacks</li>
    </ul>
</section>

<!-- WEB-->
<section>
    <!-- Slide 5-->
    <section><h2>Front-end</h2> </section>
    <!-- Slide 6-->
    <section>
        <h2>Front-end</h2>
        <p>Frontend (the “face”) is what user interacts with. Hence, it is critically important to have user-friendly frontend design, as even if you have the best functionalities, user will not use your dashboard if it is not intuitive. 
        </p>
    </section>

    <!-- Slide 7-->
    <section>
        <ul>
            <li>The design should also address <b>the user experience</b> by decreasing the chance of wrong decisions.</li>
            <li>As frontend component is what users interact with, it is also known as <b>user interface</b>.</li>
            <li>Browsers understand <b></b> programming language HTML           </li>
            <li>CSS will be used to give style to HTML.</li>
        </ul>

    </section>
</section>

<!-- HTML-->
<section>
    <!-- Slide 8-->
    <section>
        <h2>HTML</h2>
        <p> HyperText Markup Language</p>
     </section>
     <!-- Slide 9-->
     <section>
        <h2>Layout</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/layout_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre>
                    <code data-trim>
&lt;html&gt;

    &lt;head&gt;
        Here is the tab name
    &lt;/head&gt;

    &lt;body&gt;
        The content
    &lt;/body&gt;

&lt;/html&gt;
                    </code>
                </pre>
            </div>
                
    </section>
     <!-- Slide 10-->
     <section>
        <h2>Headers</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/headers_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre><code>

&lt;body&gt;
    &lt;h1&gt;Heading 1&lt;/h1&gt;
    &lt;h2&gt;Heading 2&lt;/h2&gt;
        &lt;h3&gt;Heading 3&lt;/h3&gt;
    &lt;h4&gt;Heading 4&lt;/h4&gt;
    &lt;h5&gt;Heading 5&lt;/h5&gt;
    &lt;h6&gt;Heading 6&lt;/h6&gt;
    This is the first paragraph.
    &lt;p&gt; And this is the second 
    paragraph.&lt;/p&gt;

&lt;/body&gt;

                        
                </code></pre>
            </div>
                
    </section>
     <!-- Slide 10-->
     <section>
        <h2>Lists</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/lists_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre><code>
&lt;body&gt;
Some ordered list:   
&lt;ol&gt;
    &lt;li&gt;Element 1&lt;/li&gt;
    &lt;li&gt;Element 2&lt;/li&gt;
    &lt;li&gt;Element 3&lt;/li&gt;
&lt;/ol&gt;
        &lt;br&gt;&lt;br&gt;
Some unordered list:
&lt;ul&gt;
    &lt;li&gt;Element 1&lt;/li&gt;
    &lt;li&gt;Element 2&lt;/li&gt;
    &lt;li&gt;Element 3&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;       
                </code></pre>
            </div>
                
    </section>
     <!-- Slide 11-->
     <section>
        <h2>Text Formatting</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/text_formats_html.png" alt="">
            </div>      
            <div id="right">
                
            <pre><code>
&lt;body&gt;
    &lt;b&gt;Bold&lt;/b&gt;
    &lt;br&gt;
    &lt;i&gt;Italic&lt;/i&gt;
    &lt;br&gt;
    &lt;strong&gt;Strong&lt;/strong&gt;
    &lt;em&gt;Emphasized&lt;/em&gt;
    &lt;br&gt;
    &lt;a href=&ldquo;something.com&rdquo;&gt;Click here&lt;/a&gt;
&lt;/body&gt;
             </code></pre>
            </div>
                
    </section>

     <!-- Slide 12-->
     <section>
        <h2>Tables</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/table_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre><code>
&lt;body&gt;
    &lt;table&gt;
        &lt;tr&gt;
        &lt;th&gt;Header 1&lt;/th&gt;
        &lt;th&gt;Header 2&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
        &lt;td&gt;Row1, Data1&lt;/td&gt;
        &lt;td&gt;Row1, Data2&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
        &lt;td&gt;Row2, Data1&lt;/td&gt;
        &lt;td&gt;Row2, Data2&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;

&lt;/body&gt;                       
                </code></pre>
            </div>
                
    </section>
     <!-- Slide 13-->
     <section>
        <h2>Images</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/image_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre><code>
&lt;body&gt;

&lt;img src=&quot;marketing.jpg&quot;
        height=&quot;20%&quot;
        width=&quot;20%&quot;
        alt= &quot;Marketing    picture&quot;&gt;

&lt;/body&gt;                                       
                </code></pre>
            </div>
                
    </section>
     <!-- Slide 14-->
     <section>
        <h2>Head</h2>
    
            <div id="left">
                <img class="plain" src="img/slides/head_html.png" alt="">
            </div>      
            <div id="right">
                
                <pre><code>
&lt;head&gt;

    &lt;link rel=&ldquo;stylesheet&rdquo; 
            href=&ldquo;style.css&rdquo;&gt;

    &lt;title&gt;
        Introduction to HTML   
    &lt;/title&gt;


&lt;/head&gt;                                   
                </code></pre>
            </div>
                
    </section>
</section>
<!-- CSS -->
<section>
    <!-- Slide 15 -->
    <section>
        <h2>CSS</h2>
        <p>Cascaded Style Sheet</p>
    </section>

     <!-- Slide 16 -->
    <section>
        <h2>Stylesheet Structure</h2>
        <div id="left">
            <img class="plain" src="img/slides/css_1.png" alt="">
        </div>      
        <div id="right">
            
            <pre><code>


body {
    background: #adb9ca;
    }
#title{
    text-align: center;
    }
.u_list{
    color: #f44a41;
    font-size: 60px;
    }
                            
            </code></pre>
        </div>

        
    </section>

 <!-- Slide 17 -->
    
    <section>
        <h2>class(.) ; id(#), style</h2>
        <div id="box-container">
            <div id="box-1">
                 <p>Screen</p>
                 <img class="plain" src="img/slides/css_2.png" alt="">
            </div>
            <div id="box-2">
                <p>HTML</p>
                <pre><code> 
&lt;h1 id=&quot;title&quot;
style=&quot;color:green;&quot;&gt;Header1&lt;/h1&gt;
    
    &lt;br&gt;

&lt;ul class=&quot;u_list&quot;&gt;
    &lt;li&gt;Element 1&lt;/li&gt;
    &lt;li&gt;Element 2&lt;/li&gt;
    &lt;li&gt;Element 3&lt;/li&gt;
&lt;/ul&gt;
                 </code></pre>
            </div>
            <div id="box-3">
                <p>CSS</p>
                <pre><code> 
body {
    background: #adb9ca;
}
#title{
    text-align: center;
}
.u_list{
    color: #f44a41;
    font-size: 60px;
}
                    
                 </code></pre>
            </div>
        </div>
    </section>

    <!-- Slide 18 -->
    
    <section>
        <h2> div and span</h2>
        <div id="box-container">
            <div id="box-1">
                 <p>Screen</p>
                 <img class="plain" src="img/slides/css_3.png" alt="">
            </div>
            <div id="box-2">
                <p>HTML</p>
                <pre><code> 
&lt;body&gt;
    &lt;div id=&quot;left&quot;&gt;
        &lt;h1&gt;Part 1&lt;/h1&gt;
    &lt;/div&gt;
    &lt;div id=&quot;right&quot;&gt;
        &lt;h1&gt;Part 2&lt;/h1&gt;
    &lt;/div&gt;
&lt;/body&gt;
                 </code></pre>
            </div>
            <div id="box-3">
                <p>CSS</p>
                <pre><code> 
body {
    background: #adb9ca
;
    }

#left {
float: left;
width: 25%;
height: 100px;
background-color: #ffa500;
}

#right {
float: right;
width: 75%;
height: 100px;
background-color: #008000;
}
                                        
                 </code></pre>
            </div>
        </div>
    </section>

 <!-- Slide  19-->
    <section>
        <h2>CSS Boxes</h2>
        <div id="left">

                <ul>
                    <li><b>Content: </b>the content of the box, where text and images appear</li>
                    <li><b>Padding: </b>clears an area around the content. The padding is transparent</li>
                    <li><b>Border: </b>a border that goes around the padding and content</li>
                    <li><b>Margin: </b>clears an area outside the boarder</li>
                </ul>
            </small>
        </div>

        <div id="right">
            <img class="plain" src="img/slides/css_5.png" alt="">
        </div>
    </section>

    <section>
        <h2> div and span</h2>
        <div id="box-container">
            <div id="box-1">
                 <p>Screen</p>
                 <img class="plain" src="img/slides/css_6.png" alt="">
            </div>
            <div id="box-2">
                <p>HTML</p>
                <pre><code> 
&lt;body&gt;
    &lt;h2&gt;Demonstrating the Box Model&lt;/h2&gt;

    &lt;p&gt;borders; padding;  margins; and the actual     content.
    &lt;/p&gt;

    &lt;div id=&quot;cssbox&quot;&gt;Some text  in Div
    &lt;/div&gt;
&lt;/body&gt;
                 </code></pre>
            </div>
            <div id="box-3">
                <p>CSS</p>
                <pre><code> 
#cssbox{
background-color:#adb9ca;
width: 300px;
border: 15px solid green;
padding: 50px;
margin: 20px;
text-align:center;
}
                      
                                        
                 </code></pre>
            </div>
        </div>
    </section>

 <!-- Slide  20-->
    <section>
        <h2>Consistency Styled Apps</h2>
        <div id="left">
            <a href="https://dash-bootstrap-components.opensource.faculty.ai/"> Bootstrap</a>
        </div>
        <div id="right">
            <a href="https://codepen.io/chriddyp/pen/bWLwgP.css"> Codepen Plotly</a>
        </div>
        
    </section>  

     <!-- Slide  21-->
    <section>
        <h2>Grid Design</h2>
        <img class="plain" src="img/slides/grid.png" alt="">
    </section>
</section>

<!-- Dash layout -->
<section>
    <!-- Slide 3 -->
    <section><h2>HTML Components</h2> </section>
    <!-- Slide 4 -->
    <section>
        <h2>Dash Structure</h2>
        
        <pre class="python"><code>      
from dash import html, dcc, Dash

app=Dash()

app.layout=html.Div([

    html.H1("Hello Dash!"),
    html.H2("Hello Dash!")

])

if __name__=='__main__':
    app.run_server(debug=True)
        </code></pre>
    </section>
    <!-- Slide 5 -->
    <section>
        <h2>Dash Dashboard Styling</h2>
        <p>external css file:</p>
        
        <pre class="python"><code>
from dash import html, dcc, Dash

app=Dash()

app.layout=html.Div([

    html.H1("Hello Dash!"),
    html.H2("Hello Dash!")
])

if __name__=='__main__':
    app.run_server(debug=True)
        </code></pre>
    </section>
    <!-- Slide 6 -->
    <section>
        <h2>Dash Dashboard Styling</h2>
        <h4>local css file:</h4>
        
        <pre class="python"><code>
        
        - app.py
        - assets/
            |-- main.css
            |-- script.js
        - pages/
            |-- page1.py    
            |-- page2.py    
            |-- page3.py    
        - components/
            |-- figures.py 
            |-- models.py
            |-- other components

        
        </code></pre>
    </section>
    <!-- Slide 7 -->
    <section>
        <h2>Dash Dashboard Styling</h2>
        <h4>local css file</h4>
        
        <pre class="css"><code>
#left {
    height: 100px;
    background-color: #DA291C;
    text-align: center;
    color: aliceblue;
}

#middle {
    height: 100px;
    background-color: #0033A0;
    text-align: center;
    color: aliceblue;
}
    
#right {
    height: 100px;
    background-color: #FF9E1B;
    text-align: center;
    color: aliceblue;
}
#my-output {
    background-color:#adb9ca;
    width: 300px;
    border: 15px solid green;
    padding: 50px;
    margin: 50px;
    text-align:center;   
}
        </code></pre>
    </section>
    <!-- Slide 8 -->
    <section>
        <h2>External CSS</h2>
        <h4>Check it out</h4>
        
        <pre class="python"><code>
        
from dash import html, dcc, Dash

# external CSS stylesheets
external_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']

app=Dash(__name__,
    external_stylesheets = external_stylesheets)

app.layout=html.Div([

    html.Div(['Left Block; size 4'], className='four columns', id='left'),
    html.Div(['Middle Block; size 4'], className='four columns', id='middle'),
    html.Div(['Right Block; size 4'],className='four columns', id='right'),

    
], className='twelve columns')

if __name__=='__main__':
    app.run_server(debug=True)
        </code></pre>
    </section>
</section>
<!-- Dash Core Components -->
<section>
    <!-- Slide 10 -->
    <section><h2>Dash Core Components (dcc)</h2></section>

    <!-- Slide 11 -->
    
    <Section>
        <h2>Graph</h2>
        <pre class="python">
            <code>
from dash import html, dcc, Dash
app=Dash(__name__)

app.layout=html.Div([
    html.H1("Sample Graph"),
    dcc.Graph(
        id='example-graph',
        figure={
            'data': [
                {'x': [1, 2, 3], 'y': [4, 1, 2], 'type': 'bar', 'name': 'Yerevan'},
                {'x': [1, 2, 3], 'y': [2, 4, 5], 'type': 'bar', 'name': 'Gyumri'},
            ],
            'layout': 
                {
                'Title': 'Bar Plot'
                }
        }
    )

    
], className='twelve columns')


if __name__=='__main__':
    app.run_server(debug=True)
            </code>
        </pre>
    </Section>
    <!-- Slide 12 -->

    <Section>
        <h2>Dropdown</h2>
        <pre class="python"><code>
from dash import html, dcc, Dash

app=Dash(__name__)

app.layout=html.Div([
    html.Label("Sample Dropdown"),

    dcc.Dropdown(
        options=[
            {'label':'Campaign 1', 'value': 0.5},
            {'label':'Campaign 1', 'value': 0.6},
            {'label':'Campaign 3', 'value': 0.7}
        ],

        multi=True,
        value=0.5

    )
], className='twelve columns')


if __name__=='__main__':
    app.run_server(debug=True)
        </code></pre>
    </Section>
    <!-- Slide 13 -->
    <Section>
        <h3>DatePicker() and DateRangePicker()</h3>
        <pre class="python">
            <code>
from dash import html, dcc, Dash
from datetime import datetime as dt, timedelta

app=Dash(__name__)

app.layout=html.Div([
    
    html.Div([
        html.Div([
            html.Label("DatePicker Component"),

            dcc.DatePickerSingle(id='sample-date-picker',
                date=dt.today()

            )

        ], className="six columns"),

        html.Div([  
            
            html.Label("DateRangePicker Component"),
            dcc.DatePickerRange(
                id='sample-date-range-picker',
                start_date=dt.today()-timedelta(days=14),
                end_date=dt.today()          

            )


        ], className="six columns")


    ], className="twelve columns")


    
], className='twelve columns')


if __name__=='__main__':
    app.run_server(debug=True)
            </code>
        </pre>
        
    </Section>
    <!-- slide 14 -->
    <section>
        <h2>Documentation: dcc</h2>
        <iframe data-src="https://public.tableau.com/views/AnalysisofthePromotions/ANALYSISOFTHEPROMOTIONSACROSSRANDOMLYSELECTEDMARKETSPage1?:language=en-US&:display_count=n&:origin=viz_share_link" data-preload, width="950px", height="600px"></iframe>
    </section>
</section>

<section>
    <!-- Slide 15 -->
    <section><h2>Code Sourcing</h2></section>
    <!-- Slide 16 -->
    <section>
        <div id="left">
            <p>figure.py</p>
            <pre class="python">
                <code>
import plotly.express as px
# --------------------------------- #
long_df = px.data.medals_long()

fig_1 = px.bar(long_df, x="nation", y="count", color="medal", title="Sample Bar Plot")

                </code>
            </pre>
        </div>      
        <div id="right">
            <p>layout.py</p>
            <pre class="python">
                <code>
from dash import html, dcc, Dash
from datetime import datetime as dt, timedelta
from  components.figures import fig_1

app=Dash(__name__)

app.layout=html.Div([
    
    dcc.Graph(id='fig1',
        figure=fig_1)

], className='twelve columns')


if __name__=='__main__':
    app.run_server(debug=True)

            
                </code>
            </pre>
        </div>
            
    </section>
    <!-- Slide 17 -->
    <section>
        <div id="left">
            <p>figure.py</p>
            <pre class="python">
                <code>
import plotly.express as px

long_df = px.data.medals_long()

fig_1 = px.bar(long_df, x="nation", y="count", color="medal", title="Sample Bar Plot")

# --------------------------------- #
wide_df = px.data.medals_wide()

fig_2 = px.bar(wide_df, x="nation", y=["gold", "silver", "bronze"], title="Wide-Form Input")                                        
                </code>
            </pre>
        </div>      
        <div id="right">
            <p>layout.py</p>
            <pre class="python">
                <code>
from dash import html, dcc, Dash
from datetime import datetime as dt, timedelta
from  components.figures import fig_1, fig_2

app=Dash(__name__)

app.layout=html.Div([
    
    html.Div([
        dcc.Graph(id='fig1',figure=fig_1) 
    ],className="six columns"),

    html.Div([
        dcc.Graph(id='fig2',figure=fig_2) 
    ],className="six columns")

], className='twelve columns')

if __name__=='__main__':
    app.run_server(debug=True)   
                </code>
            </pre>
        </div>
            
    </section>
</section>


<!-- Reactive Programming-->
<section>
    <!-- Slide 18 -->
    <section><h2>Reactive Programming</h2></section>
    <!-- Slide 19 -->
    <section>
        <h2>Dynamic Dashboard</h2>
        <p style="text-align: justify;">So far, we have demonstrated static web components. In order to make <i>dash app</i>  dynamic we should to following steps:</p>
        
        <ol>
            <li>Create a function to return some desired output or update something</li>
            <li>Decorate that function with an <i>@app.callback</i> decorator:
                <ul>
                    <li>set an <b>Output</b> to a component id</li>
                    <li>set an <b>Input</b> to a component id</li>
                </ul>
            </li>
            <li>Connect with the desired properties</li>
        </ol>
    </section>
    <!-- Slide 20 -->
    <section>
        <h2>Reactive Text Input</h2>

            <p>We will try to create a dynamic input, where typing something inside of the input form will provide output to other place </p>
        <pre class="python">
            <code>
def update_output_div(input_value):
    return "The name of the class is: {}".format(input_value)
            </code>
        </pre>

        <p>We need to <b>decorate</b> the above function by <i>@app.callback</i>.</p>

        <pre class="fragment python">
            <code>
@app.callback(
    Output(component_id='my-output', component_property='children'),
    [Input(component_id='my-input', component_property='value')]
)
def update_output_div(input_value):
    return "Our Class Is: {}".format(input_value)
            </code>
        </pre>
        </small>
    </section>
    <!-- Slide 21 -->
    <section>
        <h2>Reactive Text Input</h2>
        <pre class="python">
            <code>
from dash import html, dcc, Dash, dash_table
from dash.dependencies import Input, Output, State

app=Dash(__name__)

app.layout=html.Div([
    
    dcc.Input(id='my-input', value="", type='text',placeholder="Type Class Name"),
    
    html.Div(id='my-output')

], className='twelve columns')

#--------------------------------------------#
@app.callback(
    Output(component_id='my-output', component_property='children'),
    [Input(component_id='my-input', component_property='value')]
)
def update_output_div(input_value):
    return "Our Class Is: {}".format(input_value)

if __name__=='__main__':
    app.run_server(debug=True)

 
            </code>
        </pre>

    </section>
<!-- Slide 22 -->
    <section>
        <h2>Text Input with State</h2>
        <p>In the previous example we saw how the input immediately affects the output. As soon as the value was entered, the page updates to reflect any change.</p>
        <p class="fragment">What if one wants to wait before displaying the page?</p>
        <p class="fragment">What if one wants more time to enter a series of changes before submitting them?</p>
        
    </section>
<!-- Slide 22 -->
    <section>
        <h2>Text Input with State</h2>
        <p>Here comes <i>dash.dependencies.State</i>, which gives us an opportunity to:</p>
        <ul class="fragment">
            <li>store saved changes</li>
            <li>send them back</li>
        </ul>

        <p class="fragment">Think of this as hitting a submit button on a form</p>


    </section>
<!-- Slide 23 -->
    <section>
        <h2>Text Input with State</h2>
        <pre class="python">
            <code>
from dash import html, dcc, Dash, dash_table
from dash.dependencies import Input, Output, State



app=Dash(__name__)

app.layout=html.Div([
    
    html.Div(
        [
            html.Div([dcc.Input(id='my-input', value="1", type='text',placeholder="Type Class Name")], className="three columns"),
            html.Div([html.Button(id='submit-button', n_clicks=0, children='Submit')], className="three columns")

        ], className="six columns"
    ),
    
    html.Div(id='my-output')

], className='twelve columns')

#--------------------------------------------#
@app.callback(
    Output('my-output','children'),
    [Input('submit-button','n_clicks')],
    [State('my-input','value')]
)
def update_output_div(n_clicks,input_value):
    return "Input: {0} ;Number of clicks:{1}".format(input_value,n_clicks)

if __name__=='__main__':
    app.run_server(debug=True)
            </code>
        </pre>
    </section>
    <!-- Slide 24 -->
    <section>
        <h2>Dynamic Graph</h2>

            <p>Steps:</p>
            <ol>
                <li>Read the data</li>
                <li>create a function
                    <ul>
                        <li>query data: filter by the parameter(s)</li>
                        <li>finalize the shape of the date: groupings, ordering...</li>
                        <li>visualize the data</li>
                    </ul>
                </li>
                <li>decorate the function with <i>callback</i>
                    <ul>
                        <li>provide correct input parameters</li>
                        <li>provide correct output parameters</li>
                    </ul>
                </li>


                
            </ol>
            <p>In the main directory create data directory and put the data there</p>
            <p>go to components\figures.py file and read the data</p>
            <pre class="fragment python">
                <code>
df=pd.read_csv('data/CaseStudy.csv')
                </code>
            </pre>
            
        </small>
    </section>
<!-- Slide 25 -->
    <section>
        <h2>Dynamic Graph</h2>
        <p class="fragment">open layout.py file </p>
        <pre class="fragment python">
            <code>
from dash import html, dcc, Dash, dash_table
from dash.dependencies import Input, Output, State
from datetime import datetime as dt, timedelta
import plotly.express as px

from components.figures import df
import pandas as pd

app=Dash(__name__)

app.layout = html.Div([
    html.Label('Promotion Picker'),
    dcc.Dropdown(
                    id='promotion-picker', 
                    options=[{'label':i,'value':i} for i in  df['Promotion'].unique()],
                    value=df['Promotion'].min()
                ),
    dcc.Graph(id='graph')


], className='twelve columns')

#--------------------------------------------#
@app.callback(
    Output('graph', 'figure'),
    [Input('promotion-picker','value')]
)

def update_figure(promotion):

    query=df[df['Promotion']==promotion].groupby(['MarketSize','week']).sum()['SalesInThousands']
    filtered_df=pd.DataFrame(query).reset_index()

    figure=px.line(filtered_df,x='week',y='SalesInThousands',color='MarketSize')

    return figure

if __name__=='__main__':
    app.run_server(debug=True)                   
            </code>
        </pre>
    </section>
<!-- slide 26 -->
    <section>
        <h2>Multiple Inputs</h2>
        <pre class="python">
            <code>
                
from dash import html, dcc, Dash, dash_table
from dash.dependencies import Input, Output, State
from datetime import datetime as dt, timedelta
import plotly.express as px

from components.figures import mpg
import pandas as pd

app=Dash(__name__)
app.title = 'Sample App'
    
app.layout = html.Div([
    
    html.Div([
        html.Div([
        dcc.Dropdown(id='xaxis',
                options=[{'label':i,'value':i} for i in mpg.columns],
                value='displacement')
    ], className="six columns"),

    html.Div([
        dcc.Dropdown(id='yaxis',
                options=[{'label':i,'value':i} for i in mpg.columns],
                value='mpg')

    ], className="six columns")
    ], className="twelve columns"),

    html.Div([
        dcc.Graph(id='graph')
    ],className="twelve columns")


], className='twelve columns')

#--------------------------------------------#
@app.callback(
    Output('graph', 'figure'),
    [
        Input('xaxis','value'),
        Input('yaxis','value')
    ]
)

def update_graph(x_axis,y_axis):
    figure=px.scatter(mpg,x_axis,y_axis,color='origin')
    return figure

if __name__=='__main__':
    app.run_server(debug=True)

 
            </code>
        </pre>

    </section>
<!-- slide 27 -->
    <section>
        <h2>Multiple Outputs</h2>
        <pre class="python">
            <code>
from dash import html, dcc, Dash, dash_table
from dash.dependencies import Input, Output, State
from datetime import datetime as dt, timedelta
import plotly.express as px

from components.figures import df
import pandas as pd

app=Dash(__name__)
app.title = 'Sample App'
    
app.layout = html.Div([
    
    html.Div([

        dcc.Dropdown(id='msize',
                        options=[{'label':i,'value':i} for i in df['MarketSize'].unique()],
                        value="Small"
                        )
    ], className="twelve columns"),

    html.Div(id='msize-output'),
    html.Hr(),

    html.Div([
       dcc.Dropdown(id='week',
                        options=[{'label':i,'value':i} for i in df['week'].unique()],
                        value=1
                        )
    ],className="twelve columns"),
    html.Div(id='week-output'),

    html.Div(id='display-table')


], className='twelve columns')

#--------------------------------------------#

@app.callback(Output('msize-output','children'),
                [Input('msize','value')])
def callback_a(msize):
    return "You have chosen {} market size".format(msize)

@app.callback(Output('week-output','children'),
                [   Input('week','value')])
def callback_b(week):
    return "You have chosen week: {}".format(week)

@app.callback(Output('display-table','children'),
                [Input('msize','value'),
                Input('week','value')])

def callback_df(msize,week):
    query=df[(df['MarketSize']==msize) & (df['week']==week)].groupby(['Promotion']).mean()['SalesInThousands']
    data=pd.DataFrame(query).reset_index()[['Promotion','SalesInThousands']]
    columns =  [{"name": i, "id": i,} for i in (data.columns)]
    return dash_table.DataTable(data=data.to_dict('records'), columns=columns)

if __name__=='__main__':
    app.run_server(debug=True)

            </code>
        </pre>
        
    </section>
</section>
<!-- Final Slide -->
<section>
    <section> <h2>Multi Page Applications</h2> </section> 
    
    <section> 
        <h2>app.py</h2>
        <pre class="python">
            <code>
import dash
from dash import html, dcc

app = dash.Dash(__name__, use_pages=True)
server=app.server
app.layout = html.Div(
    [
        html.Div([
            dcc.Link(html.Button(page['name'], id="navigation"), href=page['path'])
            for page in dash.page_registry.values()
        ], className="twelve columns"),
        html.Hr(),

        # content of each page
        dash.page_container
    ]
)


if __name__ == "__main__":
    app.run(debug=True)

            </code>
        </pre>        
    </section>
 

    <section>
        <h2>Page1.py</h2>
       <pre class="python">
            <code>
import dash
from dash import dcc, html
import plotly.express as px

dash.register_page(__name__, path='/')

df = px.data.gapminder()

layout = html.Div(
    [
        dcc.Dropdown([x for x in df.continent.unique()], id='cont-choice', style={'width':'50%'}),
        dcc.Graph(id='line-fig',
                    figure=px.histogram(df, x='continent', y='lifeExp', histfunc='avg'))
    ]
)

            </code>
        </pre>         
    </section>

    <section>
        <h2>Page2.py</h2>
       <pre class="python">
            <code>
import dash
from dash import dcc, html
import plotly.express as px

dash.register_page(__name__)

df = px.data.tips()

layout = html.Div(
    [
        dcc.RadioItems([x for x in df.day.unique()], id='day-choice'),
        dcc.Graph(id='bar-fig',
                  figure=px.bar(df, x='smoker', y='total_bill'))
    ]
)

            </code>
        </pre>         
    </section>  

    <section>
        <h2>Page3.py</h2>
       <pre class="python">
            <code>
import dash
from dash import dcc, html

dash.register_page(__name__)

layout = html.Div(
    [
        dcc.Markdown('# This will be the content of Page 3')
    ]
)

            </code>
        </pre>         
    </section> 
    
</section>


 <!-- Slide  -->
<section>
    <section>
        <h2>Deployment</h2>
    </section>
     <!-- Slide  -->
    <section>
        <h2>Free hosting sources</h2>
        <ul>
            <li>Pythonanywhere: only Python</li>
            <li>Shinyapps: only R</li>
            <li class="fragment highlight-red"><s>Heroku</s> </li>
            <li class="fragment highlight-green">Railway app</li>
        </ul>
    </section>

     <!-- Slide  -->
    <section>
        <h2>Pre Deployment Steps I</h2>
        <small>
            <ul>
                <li>download the folder from <a href="https://drive.google.com/drive/folders/10h7spLsfR4ACMjYrCAueS3LOcGO2N0i6">here</a></li>
                <li>handling the dependencies:
                    <ol>
                        <li>create a directory: <i>folder name</i> and put above mentioned files there</li>
                        <li>navigate to the above directory by opening it either with <i>pycharm</i> or <i>vscode</i> and in the terminal type <i style="color: red;">git init</i></li>
                        <li>Create a Virtual Environment:</li>
                            <ol>
                                <li>installing virtualenv package: <i style="color: red;">pip install virtualenv</i></li>
                                <li>create a Virtual Environment:  <i style="color: red;">python -m virtualenven</i> </li>
                                <li>activate Virtual Environment:
                                    <ul>
                                       <li> Windows:  <i style="color: red;">.\venv\Scripts\activate</i> </li>
                                    <li>Mac:  <i style="color: red;">. venv/bin/activate</i> </li>
                                    <li>Linux:  <i style="color: red;">. venv/bin/activate</i> </li>
                                    </ul>
                                </li>

        
                            </ol>
                            
                        <li>install there all the dependencies:</li>
                            <ul>
                                <li>our dashboard needs: <i style="color: red;"> pip install pandas dash datetime</i> </li>
                                <li>for the deployment: <i style="color: red;"> pip install gunicorn </i> </li>
                                <li>create the requirements.txt  file: <i style="color: red;"> pip freeze > requirements.txt</i> </li>
                            </ul>
                    </ol>
                </li>
            </ul>
        </small>
    </section> 

     <!-- Slide  -->
    <section>
        <h2>Deployment Steps II</h2>
        
        <small>
            <ol>
                <li>In <i style="color: red;">app.py</i> file right below  <i style="color: red;">app=Dash(__name__)</i> add: <i style="color: red;">server=app.server</i></li>
                <li>Sign in to heroku and create an app</li>
                <li>create <i style="color: red;">.gitignore</i> file and put: </li>
                <pre><code> 
                    venv
                    *.py
                    .env
                    .DS_Store
                 </code></pre>
                <li>create <i style="color: red;"> Procfile</i> web: gunicorn app:server</li>
                <li>You need to publish your app to github: check-out  <a href="https://docs.github.com/en/get-started/importing-your-projects-to-github/importing-source-code-to-github/adding-locally-hosted-code-to-github">here</a></li>
                <li>Open <a href="https://railway.app/">Railway app</a> and sign up with your github account  </li>
                <li>Start a New Project</li>
                <li>Select deploy from Github Repo; Chose a repo and Deploy Now</li>
                <li>Wait until it builds</li>
                <li>Open the project and go the settings and add the domain</li>
                
            </ol>
        </small>
    </section>

    <!-- Slide 11 -->
<section>
    <h2><a href="https://dss-223-demo.up.railway.app/">Check out my app</a></h2>
</section>
</section>

<!-- Final Slide -->
<section>
    <h2>Thank You</h2>
</section>
<!-- END OF THE PRESENTATION -->
          </div>
    </div>

    <script src="http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/js/head.min.js"></script>
    <script src="http://cdn.jsdelivr.net/reveal.js/3.0.0/js/reveal.min.js"></script>

    <script>
     // Full list of configuration options available at:
     // https://github.com/hakimel/reveal.js#configuration
     Reveal.initialize({
       slideNumber:true,
       controls: true,
       progress: true,
       history: true,
       center: true,
       transitionSpeed:'slow',
       previewLinks:true,
       transition: 'convex', // none/fade/slide/convex/concave/zoom
       // Optional reveal.js plugins
       dependencies: [
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/lib/js/classList.js',
       condition: function() { return !document.body.classList; } },
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/markdown/marked.js',
       condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/markdown/markdown.js',
       condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/highlight/highlight.js',
       async: true,
       condition: function() { return !!document.querySelector( 'pre code' ); },
       callback: function() { hljs.initHighlightingOnLoad(); } },
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/zoom-js/zoom.js', async: true },
     { src: 'http://cdn.jsdelivr.net/reveal.js/3.0.0/plugin/notes/notes.js', async: true }
       ]
     });
    </script>

    div {
  background-color: lightgrey;
  width: 300px;
  border: 15px solid green;
  padding: 50px;
  margin: 20px;
  text-align:center;
}
</style>
</head>
<body>

<h2>Demonstrating the Box Model</h2>

<p>borders; padding; margins; and the actual content.</p>

<div>Some text in Div</div>

</body>

    </body>
</html>